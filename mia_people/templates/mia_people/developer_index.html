{% extends "mia_general/base.html" %}

{% load static %}

{% block body_class %}developers{% endblock %}

{% block breadcrumbs %}
    <section class="breadcrumbs-section">
        <div class="container">
            <nav class="breadcrumb has-bullet-separator is-right is-small" aria-label="breadcrumbs">
                <ul>
                    <li>
                        <a href="{% url 'main' %}">
                            <span class="hidden" aria-hidden="false">Home</span>
                        </a>
                    </li>
                    <li>
                        <a class="inactive" href="{% url 'developer-index-list' %}" aria-level="2">
                            Developers
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </section>
{% endblock breadcrumbs %}

{% block content %}
    <section class="last-section mt-3 mb-5 p-5">
        <div class="container">
            <div class="content">
                <h1>List of modernist developers on MIA</h1>
                <div class="columns">
                    <div class="column">
                        
                        {% comment %}
                        {% if search_term and persons %}
                            <p id="search-description">
                                You searched for: {{search_term}} <a href="{% pageurl page %}"><ion-icon name="trash-outline"></ion-icon></a> 
                            </p>
                        {% endif %}
                        {% if not persons %}
                            <p class="mt-3">No results for this selection. Please try again. <a href="{% pageurl page %}"><ion-icon name="trash-outline"></ion-icon></a></p>
                        {% endif %} {% endcomment %}
                    </div>
                    <div class="column">
                        {% comment %} <form action="{% pageurl page %}" method="get" class="form-search">
                            {% csrf_token %}
                            <div class="field has-addons is-justify-content-flex-end">
                                <div class="control">
                                    <input type="text" class="input" name="q" placeholder="Search" title="Search for:">
                                </div>
                                <div class="control">
                                    <button class="button" type="submit" name="submit" id="searchsubmit" value="Search">
                                        <ion-icon name="search-outline"></ion-icon>
                                    </button>
                                </div>
                            </div>
                        </form> {% endcomment %}
                    </div>
                </div>
                {% regroup persons by last_name|slice:"1" as persons_by_alphabet %}
                {% comment %} <div class="columns">
                    <div class="column">
                        <p>
                        {% for letter in persons_by_alphabet %}
                            <span class="letter">{{ letter.grouper }}</span>
                        {% endfor %}
                        </p>
                    </div>
                </div> {% endcomment %}
                <div class="columns is-multiline is-centered">
                    {% for letter in persons_by_alphabet %}
                        {% for person in letter.list %}
                            <div class="column column is-half-tablet is-one-third-desktop">
                                <a class="person-link" href="{% url 'developer-details' person.slug %}" alt="{{person.last_name}}">
                                    <div class="card">
                                    <div class="card-content">
                                        <div class="content">
                                        <h2 class="is-size-5 is-marginless">{{person.last_name}}{% if person.first_name %},
                                            {{person.first_name}}{% endif %}</h2>
                                        </div>
                                    </div>
                                    </div>
                                </a>
                            </div>
                        {% endfor %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
{% endblock content %}